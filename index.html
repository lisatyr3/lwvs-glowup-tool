<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Glow Up Analyzer</title>

<style>
body{
  font-family: system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
  background:#f8f6f4;
  margin:0;
  padding:40px 20px;
  display:flex;
  justify-content:center;
}

.wrapper{
  width:100%;
  max-width:720px;
  background:white;
  padding:36px;
  border-radius:18px;
  box-shadow:0 10px 30px rgba(0,0,0,.08);
}

h2{
  text-align:center;
  margin-top:0;
}

.upload-box{
  border:2px dashed #d8d8d8;
  padding:30px;
  border-radius:14px;
  text-align:center;
  margin-bottom:25px;
  background:#fafafa;
}

button{
  background:#b87b6b;
  color:white;
  border:none;
  padding:14px 26px;
  border-radius:10px;
  font-size:16px;
  cursor:pointer;
  margin-top:12px;
}

button:hover{
  opacity:.9;
}

#preview{
  margin-top:18px;
  max-width:220px;
  border-radius:12px;
  display:none;
}

#result{
  margin-top:35px;
  line-height:1.6;
}

#result h3{
  margin-top:30px;
}

#loading{
  text-align:center;
  font-style:italic;
  color:#777;
  margin-top:20px;
}
</style>
</head>

<body>

<div class="wrapper">

  <h2>Your Personalized Glow-Up Plan ‚ú®</h2>

  <div class="upload-box">
    <input type="file" id="imageInput" accept="image/*" />
    <br/>
    <button onclick="upload()">Analyze My Photo</button>
    <br/>
    <img id="preview" />
  </div>

  <div id="loading"></div>
  <div id="result"></div>

</div>

<script>
const WORKER_URL = "https://lwfs-glowup.lisa-668.workers.dev"; 
// ^ keep your worker URL here

// preview image
document.getElementById("imageInput").addEventListener("change", e=>{
  const file = e.target.files[0];
  if(!file) return;

  const preview = document.getElementById("preview");
  preview.src = URL.createObjectURL(file);
  preview.style.display="block";
});

async function upload(){

  const file = document.getElementById("imageInput").files[0];
  if(!file){
    alert("Please upload a photo first üòä");
    return;
  }

  const resultDiv = document.getElementById("result");
  const loading = document.getElementById("loading");

  resultDiv.innerHTML = "";
  loading.innerHTML = "Analyzing your photo‚Ä¶ please wait üíï";

  const formData = new FormData();
  formData.append("image", file);

  try{
    const res = await fetch(WORKER_URL, {
      method: "POST",
      body: formData
    });

    const html = await res.text();

    loading.innerHTML = "";
    resultDiv.innerHTML = html;   // ‚Üê ONLY show worker output
  }
  catch(err){
    loading.innerHTML = "";
    resultDiv.innerHTML = "Something went wrong. Try again.";
    console.error(err);
  }
}
</script>

</body>
</html>


