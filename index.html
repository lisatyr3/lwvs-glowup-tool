<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Glow Up Tool</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 900px;
      margin: 40px auto;
      text-align: center;
    }

    .btn {
      background: #b07c69;
      color: white;
      padding: 14px 26px;
      border-radius: 10px;
      border: none;
      font-size: 18px;
      cursor: pointer;
      margin: 12px;
    }

    #results {
      margin-top: 40px;
      text-align: left;
    }

    #glowPreview {
      display: none;
      margin-top: 30px;
      text-align: center;
    }

    img {
      max-width: 350px;
      border-radius: 12px;
    }
  </style>
</head>

<body>

<h1>Personalized Glow-Up Advice ðŸ’•</h1>

<input type="file" id="photoInput" accept="image/*"><br>

<button class="btn" onclick="analyze()">Analyze My Photo</button>
<button class="btn" onclick="glowup()">âœ¨ See My Glow-Up Photo</button>

<div id="results"></div>

<div id="glowPreview">
  <h2>Your Glow-Up Preview âœ¨</h2>
  <img id="glowImg">
  <br>
  <a id="downloadBtn" class="btn" download="glowup.png">Download My Glow-Up Photo</a>
</div>


<script>
/* =========================================
   IMPORTANT
   Replace with YOUR worker URL
========================================= */

const WORKER = "https://lwfs-glowup.lisa-668.workers.dev";


/* =========================================
   Analyze Photo â†’ /analyze
========================================= */

async function analyze() {
  const file = document.getElementById("photoInput").files[0];
  if (!file) return alert("Choose a photo first");

  const fd = new FormData();
  fd.append("image", file);

  document.getElementById("results").innerHTML = "Analyzingâ€¦";

  const res = await fetch(WORKER + "/analyze", {
    method: "POST",
    body: fd
  });

  const html = await res.text();

  document.getElementById("results").innerHTML = html;
}


/* =========================================
   Glow Up â†’ /glowup
========================================= */

async function glowup() {
  const file = document.getElementById("photoInput").files[0];
  if (!file) return alert("Choose a photo first");

  const fd = new FormData();
  fd.append("image", file);

  document.getElementById("glowPreview").style.display = "block";
  document.getElementById("glowImg").src = "";
  document.getElementById("glowImg").alt = "Creating your glow-upâ€¦";

  const res = await fetch(WORKER + "/glowup", {
    method: "POST",
    body: fd
  });

  const data = await res.json();

  if (!data.image_data_url) {
    alert("Glow-up failed");
    return;
  }

  const img = document.getElementById("glowImg");
  img.src = data.image_data_url;

  const dl = document.getElementById("downloadBtn");
  dl.href = data.image_data_url;
}
</script>

</body>
</html>



